<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Valentine's Day Freya</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/canvas-confetti/1.9.2/confetti.browser.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow-x: hidden;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Particelle fluttuanti */
        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .heart-particle {
            position: absolute;
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.5rem;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { 
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% { opacity: 1; }
            90% { opacity: 1; }
            50% { 
                transform: translateY(-10vh) rotate(180deg);
                opacity: 0.8;
            }
        }

        .container {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 40px;
            border-radius: 25px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 500px;
            position: relative;
            z-index: 10;
            text-align: center;
            transition: all 0.3s ease;
        }

        .container:hover {
            transform: translateY(-5px);
            box-shadow: 0 35px 70px rgba(0, 0, 0, 0.15);
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 255, 255, 0.4); }
            to { text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), 0 0 30px rgba(255, 255, 255, 0.7); }
        }

        .question {
            color: #fff;
            font-size: 1.3rem;
            margin-bottom: 30px;
            font-weight: 300;
            line-height: 1.6;
        }

        .button-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            border: none;
            border-radius: 50px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover:before {
            left: 100%;
        }

        .yes {
            background: linear-gradient(45deg, #ff6b9d, #ff8fab);
            color: white;
            box-shadow: 0 10px 25px rgba(255, 107, 157, 0.4);
            transform-origin: center;
        }

        .yes:hover {
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 15px 35px rgba(255, 107, 157, 0.6);
        }

        .no {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }

        .no:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .emoji-gif {
            width: 24px;
            height: 24px;
            border-radius: 50%;
        }

        #noMessages {
            position: absolute;
            top: -80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 107, 157, 0.9);
            color: white;
            padding: 15px 25px;
            border-radius: 15px;
            font-weight: 500;
            display: none;
            animation: bounce 0.5s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-10px); }
            60% { transform: translateX(-50%) translateY(-5px); }
        }

        #finalMessage {
            display: none;
            text-align: left;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-top: 30px;
            max-height: 70vh;
            overflow-y: auto;
            color: #fff;
            line-height: 1.8;
        }

        #finalMessage::-webkit-scrollbar {
            width: 8px;
        }

        #finalMessage::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        #finalMessage::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
        }

        #finalMessage p {
            margin: 15px 0;
            font-size: 1rem;
            animation: fadeInUp 0.8s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #love-counter {
            display: none;
            margin-top: 25px;
            padding: 20px;
            background: rgba(255, 107, 157, 0.2);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }

        #love-counter p {
            font-size: 1.3rem;
            color: #fff;
            font-weight: 500;
            margin: 0;
        }

        #count {
            font-weight: 700;
            color: #ff6b9d;
            text-shadow: 0 0 10px rgba(255, 107, 157, 0.5);
        }

        .special-gif {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            display: none;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }

        .special-gif.show {
            opacity: 1;
            display: block;
            transform: translate(-50%, -50%) scale(1);
        }

        .special-gif.hide {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.8);
        }

        .mocha-emoji {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: all 1s ease;
            z-index: 1000;
            display: none;
            border-radius: 20px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.05); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }

        .mocha-emoji.show {
            opacity: 1;
            display: block;
        }

        .mocha-emoji.hide {
            opacity: 0;
        }

        .cursor {
            display: inline-block;
            width: 2px;
            height: 1em;
            background-color: #fff;
            animation: blink 1s infinite;
            vertical-align: middle;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        /* Effetti di particelle */
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #fff;
            border-radius: 50%;
            pointer-events: none;
            animation: particle-float 3s linear forwards;
        }

        @keyframes particle-float {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(0);
            }
        }

        /* Media queries per responsive */
        @media (max-width: 768px) {
            .container {
                padding: 25px;
                margin: 20px;
            }

            h1 {
                font-size: 2.5rem;
            }

            .question {
                font-size: 1.1rem;
            }

            .btn {
                padding: 12px 25px;
                font-size: 1rem;
            }

            .button-container {
                gap: 15px;
            }

            #finalMessage {
                padding: 20px;
                font-size: 0.9rem;
            }

            .special-gif img, .mocha-emoji img {
                max-width: 250px;
                height: auto;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 2rem;
            }

            .container {
                padding: 20px;
            }

            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }

        /* Animazione di caricamento */
        .loading {
            opacity: 0;
            animation: fadeIn 1s ease forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }
    </style>
</head>
<body class="loading">
    <!-- Particelle di cuori fluttuanti -->
    <div class="floating-hearts" id="floatingHearts"></div>

    <div class="container">
        <h1>Happy Valentine's Day, Freya!</h1>

        <div class="question" id="question">
            <p>Will you be my valentine?</p>
            <div class="button-container">
                <button class="btn yes" id="yesButton">
                    Yes
                    <img src="https://cdn3.emoji.gg/emojis/5221-purplenod.gif" class="emoji-gif" alt="nod" />
                </button>
                <button class="btn no" id="noButton">No ðŸ’”</button>
            </div>
        </div>

        <div id="noMessages">
            <p id="messageText">You sure?</p>
        </div>

        <div id="finalMessage">
            <p id="message1"></p>
            <p id="message2"></p>
            <p id="message3"></p>
            <p id="message4"></p>
            <p id="message5"></p>
            <p id="message6"></p>
            <p id="message7"></p>
            <p id="message8"></p>
        </div>

        <div id="love-counter">
            <p>Ich liebe dich <span id="count">0</span> Mal ðŸ’–</p>
        </div>
    </div>

    <div class="special-gif" id="specialGif">
        <img src="https://cdn3.emoji.gg/emojis/11596-milkandmochalove4.gif" alt="love" width="300" height="auto" />
    </div>

    <div class="mocha-emoji" id="mochaEmoji">
        <img src="https://cdn3.emoji.gg/emojis/56142-mocha.gif" width="200" height="200" alt="Mocha">
    </div>

    <script>
        // Inizializzazione variabili
        const elements = {
            yesButton: document.getElementById('yesButton'),
            noButton: document.getElementById('noButton'),
            noMessages: document.getElementById('noMessages'),
            messageText: document.getElementById('messageText'),
            question: document.getElementById('question'),
            finalMessage: document.getElementById('finalMessage'),
            mochaEmoji: document.getElementById('mochaEmoji'),
            loveCounter: document.getElementById('love-counter'),
            specialGif: document.getElementById('specialGif'),
            floatingHearts: document.getElementById('floatingHearts')
        };

        let yesSize = 1;
        const messages = [
            "Pls pls pls say yes ðŸ¥º", 
            "Plsssss ðŸ’•", 
            "Are you really sure? ðŸ¤”", 
            "Think again... ðŸ’­", 
            "Don't break my heart ðŸ’”",
            "Come on, just say yes! ðŸ˜Š"
        ];

        const messageLines = [
            "Ich hÃ¤tte nie erwartet, eine solche Person wie dich kennenzulernen.",
            "Du hast so viele wunderbare Eigenschaften: Du bist intelligent, liebenswÃ¼rdig, fÃ¼rsorglich und reif.",
            "Es gibt Menschen, die still und leise in unser Leben treten, und andere, die einen bleibenden Eindruck hinterlassen. Du bist eine von denen, die mit ihrer StÃ¤rke und ihrem Geist die Welt zu einem besseren Ort machen.",
            "Ich wÃ¼nschte so sehr, wir kÃ¶nnten zusammen sein, aber die Entfernung und andere UmstÃ¤nde trennen uns.",
            "Trotzdem habe ich mir gedacht, dir dieses kleine Geschenk zu machen. Es ist nicht viel, aber ich mÃ¶chte, dass du dich besonders fÃ¼hlst.",
            "Heute ist nicht nur Valentinstag, sondern auch ein Tag, um dich daran zu erinnern, wie besonders du bist. Ich hoffe, dass du immer Menschen findest, die deinen Wert erkennen.",
            "Ich liebe dich wahnsinnig.",
            "Frohen Valentinstag, Freya. ðŸ’•"
        ];

        // Funzione per creare particelle fluttuanti
        function createFloatingHearts() {
            const hearts = ['ðŸ’–', 'ðŸ’•', 'ðŸ’—', 'ðŸ’˜', 'ðŸ’', 'ðŸ’ž'];
            
            setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'heart-particle';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDelay = Math.random() * 2 + 's';
                heart.style.animationDuration = (Math.random() * 4 + 4) + 's';
                
                elements.floatingHearts.appendChild(heart);
                
                setTimeout(() => {
                    if (heart.parentNode) {
                        heart.parentNode.removeChild(heart);
                    }
                }, 8000);
            }, 800);
        }

        // Funzione per creare effetto particelle al click
        function createClickParticles(x, y) {
            for (let i = 0; i < 8; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.transform = `rotate(${Math.random() * 360}deg)`;
                document.body.appendChild(particle);
                
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, 3000);
            }
        }

        // Event listener per il pulsante "Yes"
        elements.yesButton.addEventListener('click', (e) => {
            createClickParticles(e.clientX, e.clientY);
            elements.noMessages.style.display = 'none';
            elements.question.style.display = 'none';
            
            // Mostra GIF speciale
            elements.specialGif.style.display = 'block';
            setTimeout(() => elements.specialGif.classList.add('show'), 100);

            // Confetti multipli
            const confettiConfig = {
                particleCount: 200,
                spread: 100,
                origin: { y: 0.6 },
                colors: ['#ff6b9d', '#ff8fab', '#667eea', '#764ba2', '#f093fb']
            };
            
            confetti(confettiConfig);
            setTimeout(() => confetti({...confettiConfig, origin: { x: 0.2, y: 0.7 }}), 300);
            setTimeout(() => confetti({...confettiConfig, origin: { x: 0.8, y: 0.7 }}), 600);

            setTimeout(() => {
                elements.specialGif.classList.remove('show');
                elements.specialGif.classList.add('hide');

                setTimeout(() => {
                    elements.specialGif.style.display = 'none';
                    elements.finalMessage.style.display = 'block';
                    elements.loveCounter.style.display = 'block';

                    const paragraphs = document.querySelectorAll('#finalMessage p');
                    writeParagraphs(paragraphs, messageLines, () => {
                        elements.mochaEmoji.style.display = 'block';
                        elements.mochaEmoji.classList.add('show');

                        setTimeout(() => {
                            elements.mochaEmoji.classList.remove('show');
                            elements.mochaEmoji.classList.add('hide');
                            setTimeout(() => {
                                elements.mochaEmoji.style.display = 'none';
                            }, 1000);
                        }, 8000);
                    });

                    // Contatore animato
                    animateCounter();
                }, 800);
            }, 4000);
        });

        // Event listener per il pulsante "No"
        elements.noButton.addEventListener('click', (e) => {
            createClickParticles(e.clientX, e.clientY);
            elements.noMessages.style.display = 'block';
            elements.messageText.textContent = messages[Math.floor(Math.random() * messages.length)];
            
            if (yesSize < 3) {
                yesSize += 0.2;
                elements.yesButton.style.transform = `scale(${yesSize})`;
            }

            setTimeout(() => {
                elements.noMessages.style.display = 'none';
            }, 3000);
        });

        // Funzione typewriter migliorata
        function typeWriter(element, text, speed, callback) {
            let i = 0;
            const cursor = document.createElement('span');
            cursor.classList.add('cursor');
            element.appendChild(cursor);

            function type() {
                if (i < text.length) {
                    const char = text.charAt(i);
                    const span = document.createElement('span');
                    span.textContent = char;
                    element.insertBefore(span, cursor);
                    i++;
                    
                    if (element.scrollIntoView) {
                        element.scrollIntoView({ behavior: 'smooth', block: 'end' });
                    }
                    
                    const delay = char === ' ' ? speed * 0.5 : 
                                 char === '.' ? speed * 8 : 
                                 char === ',' ? speed * 4 : speed;
                    setTimeout(type, delay);
                } else {
                    cursor.remove();
                    if (callback) callback();
                }
            }
            type();
        }

        // Funzione per scrivere paragrafi in sequenza
        function writeParagraphs(paragraphs, messages, callback, index = 0) {
            if (index >= paragraphs.length) {
                if (callback) callback();
                return;
            }
            const paragraph = paragraphs[index];
            const text = messages[index];
            typeWriter(paragraph, text, 30, () => {
                setTimeout(() => {
                    writeParagraphs(paragraphs, messages, callback, index + 1);
                }, 500);
            });
        }

        // Contatore animato
        function animateCounter() {
            let count = 0;
            const target = 100000;
            const duration = 45000;
            const increment = target / (duration / 50);

            const interval = setInterval(() => {
                count += increment;
                if (count >= target) {
                    count = target;
                    clearInterval(interval);
                }
                document.getElementById('count').textContent = Math.floor(count).toLocaleString();
            }, 50);
        }

        // Inizializzazione
        document.addEventListener('DOMContentLoaded', () => {
            createFloatingHearts();
            
            // Effetto hover sui pulsanti
            document.querySelectorAll('.btn').forEach(btn => {
                btn.addEventListener('mouseenter', function() {
                    this.style.transform = this.classList.contains('yes') ? 
                        `scale(${yesSize * 1.05}) translateY(-2px)` : 
                        'translateY(-2px)';
                });
                
                btn.addEventListener('mouseleave', function() {
                    this.style.transform = this.classList.contains('yes') ? 
                        `scale(${yesSize})` : '';
                });
            });
        });
    </script>
</body>
</html>